#!/bin/bash
# =============================================================================
# chirp - TI Toolchain Environment Setup
# =============================================================================
#
# Copy this file to env.sh and update paths for your system:
#   cp toolchains/env.sh.template toolchains/env.sh
#   # Edit env.sh with your paths
#   source toolchains/env.sh
#
# Required toolchains (download from TI):
#   - ARM CGT 16.9.4 LTS: https://www.ti.com/tool/ARM-CGT
#   - C6000 CGT 8.3.3: https://www.ti.com/tool/C6000-CGT
#   - XDCtools 3.50.08.24: Included with CCS or standalone
#   - SYS/BIOS 6.73.01.01: Included with CCS or standalone
#   - mmWave SDK 3.6.2 LTS: https://www.ti.com/tool/MMWAVE-SDK
#
# =============================================================================

# -----------------------------------------------------------------------------
# mmWave SDK (REQUIRED)
# -----------------------------------------------------------------------------
export MMWAVE_SDK_INSTALL_PATH=/path/to/mmwave_sdk_03_06_02_00-LTS

# -----------------------------------------------------------------------------
# TI Compilers (REQUIRED)
# -----------------------------------------------------------------------------
export TI_ARM_COMPILER_PATH=/path/to/ti-cgt-arm_16.9.4.LTS
export TI_C6X_COMPILER_PATH=/path/to/ti-cgt-c6000_8.3.3

# -----------------------------------------------------------------------------
# XDC and BIOS (REQUIRED)
# -----------------------------------------------------------------------------
export XDC_INSTALL_PATH=/path/to/xdctools_3_50_08_24_core
export BIOS_INSTALL_PATH=/path/to/bios_6_73_01_01

# -----------------------------------------------------------------------------
# DSP Libraries (REQUIRED for DSS build)
# -----------------------------------------------------------------------------
export MATHLIB_INSTALL_PATH=/path/to/mathlib_c674x_3_1_2_1
export DSPLIB_INSTALL_PATH=/path/to/dsplib_c64Px_3_4_0_0
export DSPLIB_C674_INSTALL_PATH=/path/to/dsplib_c674x_3_4_0_0

# -----------------------------------------------------------------------------
# PATH Setup (auto-configured from above)
# -----------------------------------------------------------------------------
export PATH="${TI_ARM_COMPILER_PATH}/bin:${TI_C6X_COMPILER_PATH}/bin:${XDC_INSTALL_PATH}:${PATH}"

# -----------------------------------------------------------------------------
# Verification
# -----------------------------------------------------------------------------
echo "chirp build environment configured:"
echo "  MMWAVE_SDK: ${MMWAVE_SDK_INSTALL_PATH}"
echo "  ARM CGT:    ${TI_ARM_COMPILER_PATH}"
echo "  C6X CGT:    ${TI_C6X_COMPILER_PATH}"
echo "  XDC:        ${XDC_INSTALL_PATH}"
echo "  BIOS:       ${BIOS_INSTALL_PATH}"

# Verify critical paths exist
if [ ! -d "${MMWAVE_SDK_INSTALL_PATH}" ]; then
    echo "WARNING: MMWAVE_SDK_INSTALL_PATH does not exist!"
fi
if [ ! -d "${TI_ARM_COMPILER_PATH}" ]; then
    echo "WARNING: TI_ARM_COMPILER_PATH does not exist!"
fi
